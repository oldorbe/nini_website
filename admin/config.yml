# Decap CMS config - Artist Portfolio
# See https://decapcms.org/docs/configuration-options/
# Backend: GitHub + OAuth proxy (e.g. Cloudflare Worker). Replace base_url with your proxy URL.

backend:
  name: github
  repo: oldorbe/nini_website
  branch: main
  base_url: https://your-decap-proxy.workers.dev  # Replace with your Worker PROXY URL
  auth_endpoint: /auth

media_folder: content/uploads
public_folder: /uploads

collections:
  - name: installations
    label: Installations
    files:
      - name: installations
        label: Installations
        file: content/installations.json
        fields:
          - name: projects
            label: Projects
            widget: list
            fields:
              - { name: id, label: ID, widget: string, hint: "URL slug, e.g. punchdrunk" }
              - { name: title, label: Title, widget: string }
              - { name: year, label: Year, widget: string }
              - name: images
                label: Images
                widget: list
                summary: "{{fields.alt}}"
                fields:
                  - name: src
                    label: Image
                    widget: image
                    allow_multiple: false
                    required: false
                  - { name: alt, label: Alt text, widget: string, required: false }

  - name: videotapes
    label: Videotapes
    files:
      - name: videotapes
        label: Videotapes
        file: content/videotapes.json
        fields:
          - name: projects
            label: Projects
            widget: list
            fields:
              - { name: id, label: ID, widget: string, hint: "URL slug" }
              - { name: title, label: Title, widget: string }
              - { name: videoUrl, label: Video URL, widget: string, hint: "Embed URL, e.g. https://www.youtube.com/embed/..." }
              - name: thumbnail
                label: Thumbnail
                widget: image
                required: false
              - { name: description, label: Description, widget: text, required: false }

  - name: texts
    label: Texts
    files:
      - name: texts
        label: Texts
        file: content/texts.json
        fields:
          - name: entries
            label: Entries
            widget: list
            fields:
              - { name: id, label: ID, widget: string, hint: "URL slug" }
              - { name: title, label: Title, widget: string }
              - name: featuredImage
                label: Featured Image
                widget: image
                required: false
              - { name: body, label: Body, widget: markdown, required: false }
              - name: attachments
                label: Attachments
                widget: list
                required: false
                fields:
                  - { name: label, label: Label, widget: string }
                  - { name: url, label: URL, widget: string }
